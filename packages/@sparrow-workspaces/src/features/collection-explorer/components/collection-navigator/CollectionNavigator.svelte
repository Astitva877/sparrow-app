<script lang="ts">
  import { Navigator } from "@sparrow/library/ui";
  export let collectionNavigation;
  export let onUpdateCollectionState;
  import { CollectionNavigationTabEnum } from "@sparrow/common/types/workspace/collection";

  let tabs: {
    name: string;
    id: CollectionNavigationTabEnum;
    count: number;
  }[] = [];

  /**
   * @description - refresh tabs label count
   * @param _paramsLength - query parameter length
   * @param _authParameterLength - auth parameter length
   * @param _headersLength - headers length
   * @param _autoGeneratedHeadersLength - auto generated headers length
   * @param _authHeaderLength - auth headers length
   */
  const refreshTabs = () => {
    return [
      {
        name: "Overview",
        id: CollectionNavigationTabEnum.OVERVIEW,
        count: 0,
      },
      {
        name: "Auth",
        id: CollectionNavigationTabEnum.AUTH,
        count: 0,
      },
    ];
  };

  /**
   * @description - re-calculates value when dependency changes
   */
  $: {
    tabs = refreshTabs();
  }

  const onTabClick = (tabId: any) => {
    onUpdateCollectionState({ collectionNavigation: tabId });
  };
</script>

<Navigator {tabs} {onTabClick} currentTabId={collectionNavigation} />
